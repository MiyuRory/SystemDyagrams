const data = {
    "Entidades": [
        {
            "Entidad": "Agile Methodology",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Three Amigos Meeting" },
                { "Polaridad": "Positiva", "Entidad": "Feedback loops" },
                { "Polaridad": "Positiva", "Entidad": "Engaging Business Stakeholders" },
                { "Polaridad": "Negativa", "Entidad": "Poor Written Stories" }
            ]
        },
        {
            "Entidad": "Poor Written Stories",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Negativa", "Entidad": "Team Morale" },
                { "Polaridad": "Negativa", "Entidad": "Trust" },
                { "Polaridad": "Negativa", "Entidad": "Productivity" }
            ]
        },
        {
            "Entidad": "Burnout",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Team Morale" },
                { "Polaridad": "Negativa", "Entidad": "Job Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Motivation" },
                { "Polaridad": "Positiva", "Entidad": "Absenteism" }
            ]
        },
        {
            "Entidad": "Business",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Engaging Business Stakeholders" },
                { "Polaridad": "Negativa", "Entidad": "Silos" }
            ]
        },
{
            "Entidad": "Feedback Loops",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Productivity" },
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Negativa", "Entidad": "Frustration" }
            ]
        },
        {
            "Entidad": "Definition of Done (DoD) for Histories",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Ambiguity" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" }
            ]
        },
        {
            "Entidad": "Eroding Goals",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Commitment" },
                { "Polaridad": "Negativa", "Entidad": "Agile Adoption" },
                { "Polaridad": "Positiva", "Entidad": "Old Management Style" }
            ]
        },
        {
            "Entidad": "Training & Workshops",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Definition of Done (DoD) for Histories" },
                { "Polaridad": "Negativa", "Entidad": "Errors" }
            ]
        },
{
            "Entidad": "Using Templates",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Consistency in User Stories" },
                { "Polaridad": "Negativa", "Entidad": "Increased Ambiguity" }
            ]
        },
        {
            "Entidad": "Regular Reviews",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Team Morale" },
                { "Polaridad": "Positiva", "Entidad": "Feedback Loops" }
            ]
        },
        {
            "Entidad": "Tools",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Productivity" },
                { "Polaridad": "Positiva", "Entidad": "Communication" },
                { "Polaridad": "Negativa", "Entidad": "Learning Curve" }
            ]
        },
        {
            "Entidad": "Glossary or Terminology Document",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Understanding" },
                { "Polaridad": "Negativa", "Entidad": "Confusion" }
            ]
        },
        {
            "Entidad": "Attachments and Mockups",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Team Understanding" }
            ]
        },
{
            "Entidad": "Engaging Business Stakeholders",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Feedback Loops" }
            ]
        },
        {
            "Entidad": "Three Amigos Meeting",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Reduced Ambiguity" }
            ]
        },
        {
            "Entidad": "Story Splitting",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Manageable Tasks" },
                { "Polaridad": "Positiva", "Entidad": "Clarity in Development" }
            ]
        },
        {
            "Entidad": "Interactive Tools",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Communication" },
                { "Polaridad": "Negativa", "Entidad": "Overhead" }
            ]
        },
{
            "Entidad": "Keeping Stories Short and Focused",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Morale" },
                { "Polaridad": "Positiva", "Entidad": "Sprint Goals" },
                { "Polaridad": "Negativa", "Entidad": "Increased Ambiguity" }
            ]
        },
        {
            "Entidad": "Regular Refinement Sessions",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Productivity" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
        {
            "Entidad": "Increased Ambiguity",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Team Morale" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Trust" }
            ]
        },
        {
            "Entidad": "Trust",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Morale" },
                { "Polaridad": "Positiva", "Entidad": "Commitment" },
                { "Polaridad": "Negativa", "Entidad": "Burnout" }
            ]
        },
{
            "Entidad": "Technical Stories",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Feature Development" },
                { "Polaridad": "Positiva", "Entidad": "Maintainability" }
            ]
        },
        {
            "Entidad": "Burnout",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Productivity" },
                { "Polaridad": "Negativa", "Entidad": "Team Morale" },
                { "Polaridad": "Negativa", "Entidad": "Job Satisfaction" }
            ]
        },
        {
            "Entidad": "Agile",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Continuous Learning" },
                { "Polaridad": "Positiva", "Entidad": "Systems Thinking" },
                { "Polaridad": "Negativa", "Entidad": "Silos" }
            ]
        },
        {
            "Entidad": "DevOps",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Continuous Integration" },
                { "Polaridad": "Positiva", "Entidad": "Continuous Deployment" }
            ]
        },
{
            "Entidad": "Organization Intelligence",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Shared Vision" },
                { "Polaridad": "Positiva", "Entidad": "Continuous Learning" },
                { "Polaridad": "Negativa", "Entidad": "Silos" }
            ]
        },
        {
            "Entidad": "Feedback Loops",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Productivity" },
                { "Polaridad": "Negativa", "Entidad": "Burnout" }
            ]
        },
        {
            "Entidad": "Resistance",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Change Management" },
                { "Polaridad": "Negativa", "Entidad": "Commitment" }
            ]
        },
        {
            "Entidad": "Communication",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Confusion" }
            ]
        },
        {
            "Entidad": "Incentives",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Motivation" },
                { "Polaridad": "Negativa", "Entidad": "Burnout" }
            ]
        },
{
            "Entidad": "Symptomatic Solutions",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Fundamental Solutions" },
                { "Polaridad": "Positiva", "Entidad": "Side Effects" }
            ]
        },
        {
            "Entidad": "Leadership",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Commitment" },
                { "Polaridad": "Positiva", "Entidad": "Shared Vision" }
            ]
        },
        {
            "Entidad": "Eroding Goals",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Commitment" },
                { "Polaridad": "Negativa", "Entidad": "Team Morale" },
                { "Polaridad": "Positiva", "Entidad": "Short Term Productivity" }
            ]
        },
        {
            "Entidad": "Product Owner",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Negativa", "Entidad": "Poor Written Stories" }
            ]
        },
{
            "Entidad": "Business",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Agile" },
                { "Polaridad": "Positiva", "Entidad": "Engaging Business Stakeholders" },
                { "Polaridad": "Negativa", "Entidad": "Silos" }
            ]
        },
        {
            "Entidad": "Agile Ceremonies",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Feedback Loops" },
                { "Polaridad": "Negativa", "Entidad": "Avoidance of Meetings" }
            ]
        },
        {
            "Entidad": "Cross-Functional Shadowing",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Business Understanding of Systems" },
                { "Polaridad": "Positiva", "Entidad": "Development Teams Understanding Business" }
            ]
        },
        {
            "Entidad": "Open Communication",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Trust" },
                { "Polaridad": "Negativa", "Entidad": "Confusion" }
            ]
        },
{
            "Entidad": "Assumption of Knowledge",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Efficient Communication" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
        {
            "Entidad": "Increased Costs",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Value" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
        {
            "Entidad": "Difficulty in Validation",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Quality Assurance" },
                { "Polaridad": "Positiva", "Entidad": "Rework" }
            ]
        },
        {
            "Entidad": "Ineffective Risk Management",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Performance" },
                { "Polaridad": "Negativa", "Entidad": "Maintainability" }
            ]
        },
{
            "Entidad": "Scope Creep",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Sprint Goals" },
                { "Polaridad": "Negativa", "Entidad": "Team Morale" },
                { "Polaridad": "Negativa", "Entidad": "Performance" }
            ]
        },
        {
            "Entidad": "Inefficient Communication",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Team Collaboration" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Agile" }
            ]
        },
        {
            "Entidad": "Quality Assurance Challenges",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Productivity" },
                { "Polaridad": "Negativa", "Entidad": "Trust" },
                { "Polaridad": "Positiva", "Entidad": "Rework" }
            ]
        },
        {
            "Entidad": "Legal and Compliance Issues",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Feature Development" },
                { "Polaridad": "Negativa", "Entidad": "Time Allocation" },
                { "Polaridad": "Negativa", "Entidad": "Value" }
            ]
        },
{
            "Entidad": "Knowledge Loss",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Continous Learning" },
                { "Polaridad": "Negativa", "Entidad": "Team Collaboration" },
                { "Polaridad": "Negativa", "Entidad": "Efficient Communication" }
            ]
        },
        {
            "Entidad": "Eroding Goals",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Agile" },
                { "Polaridad": "Positiva", "Entidad": "Poor Written Stories" },
                { "Polaridad": "Negativa", "Entidad": "Commitment" }
            ]
        },
        {
            "Entidad": "Rapid Growth",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Organizational Culture" },
                { "Polaridad": "Positiva", "Entidad": "Silos" },
                { "Polaridad": "Negativa", "Entidad": "Continous Learning" }
            ]
        },
        {
            "Entidad": "Change Management",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Adoption of Agile" },
                { "Polaridad": "Negativa", "Entidad": "Resistance" }
            ]
        },
{
            "Entidad": "Ineffective Risk Management",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Sprint Goals" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Burnout" }
            ]
        },
        {
            "Entidad": "Assumption of Knowledge",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Communication" },
                { "Polaridad": "Positiva", "Entidad": "Increased Ambiguity" },
                { "Polaridad": "Negativa", "Entidad": "Clear Acceptance Criterias" }
            ]
        },
        {
            "Entidad": "Lack of Ownership",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Commitment" },
                { "Polaridad": "Positiva", "Entidad": "Poor Written Stories" },
                { "Polaridad": "Negativa", "Entidad": "Productivity" }
            ]
        },
        {
            "Entidad": "Systems Thinking",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Organizational Intelligence" },
                { "Polaridad": "Positiva", "Entidad": "Feedback Loops" },
                { "Polaridad": "Negativa", "Entidad": "Silos" }
            ]
        },
{
            "Entidad": "Training & Workshops",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Continous Learning" },
                { "Polaridad": "Negativa", "Entidad": "Knowledge Loss" },
                { "Polaridad": "Positiva", "Entidad": "Definition of Done (DoD) for Histories" }
            ]
        },
        {
            "Entidad": "Feedback",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Productivity" },
                { "Polaridad": "Negativa", "Entidad": "Burnout" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
        {
            "Entidad": "Shared Vision",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Silos" },
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Ownership" }
            ]
        },
        {
            "Entidad": "Technical Stories",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Feature Development" },
                { "Polaridad": "Positiva", "Entidad": "Performance" },
                { "Polaridad": "Negativa", "Entidad": "Increased Ambiguity" }
            ]
        },
{
            "Entidad": "Quality Assurance Challenges",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Productivity" },
                { "Polaridad": "Positiva", "Entidad": "Errors" }
            ]
        },
        {
            "Entidad": "Legal and Compliance Issues",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Feature Development" },
                { "Polaridad": "Negativa", "Entidad": "Speed of Agile Ceremonies" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
        {
            "Entidad": "Rapid Growth",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Organizational Culture" },
                { "Polaridad": "Positiva", "Entidad": "Silos" },
                { "Polaridad": "Negativa", "Entidad": "Clear Acceptance Criterias" }
            ]
        },
        {
            "Entidad": "Increased Costs",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Value" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Rework" }
            ]
        },
{
            "Entidad": "Difficulty in Validation",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Quality Assurance Challenges" },
                { "Polaridad": "Positiva", "Entidad": "Errors" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
        {
            "Entidad": "Jointly Defining 'Done'",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Ownership" },
                { "Polaridad": "Negativa", "Entidad": "Increased Ambiguity" }
            ]
        },
        {
            "Entidad": "Including Business in Agile Ceremonies",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Engaging Business Stakeholders" },
                { "Polaridad": "Positiva", "Entidad": "Feedback Loops" },
                { "Polaridad": "Positiva", "Entidad": "Communication" }
            ]
        },
        {
            "Entidad": "Inefficient Communication",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Confusion" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
{
            "Entidad": "Scope Creep",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Definition of Done (DoD) for Histories" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Rework" }
            ]
        },
        {
            "Entidad": "Ineffective Risk Management",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Project Success" },
                { "Polaridad": "Positiva", "Entidad": "Burnout" },
                { "Polaridad": "Negativa", "Entidad": "Team Morale" }
            ]
        },
        {
            "Entidad": "Assumption of Knowledge",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Clear Acceptance Criterias" },
                { "Polaridad": "Positiva", "Entidad": "Increased Ambiguity" },
                { "Polaridad": "Negativa", "Entidad": "Communication" }
            ]
        },
        {
            "Entidad": "Lack of Ownership",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Commitment" },
                { "Polaridad": "Positiva", "Entidad": "Burnout" },
                { "Polaridad": "Negativa", "Entidad": "Team Collaboration" }
            ]
        },
{
            "Entidad": "Reduced Traceability",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Quality Assurance Challenges" },
                { "Polaridad": "Positiva", "Entidad": "Errors" }
            ]
        },
        {
            "Entidad": "Knowledge Loss",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Productivity" },
                { "Polaridad": "Positiva", "Entidad": "Rework" },
                { "Polaridad": "Negativa", "Entidad": "Team Collaboration" }
            ]
        },
        {
            "Entidad": "Cross-functional Shadowing",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Engaging Business Stakeholders" },
                { "Polaridad": "Positiva", "Entidad": "Business Understanding of Systems" }
            ]
        },
        {
            "Entidad": "Education on Technical Debts",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Knowledge Loss" },
                { "Polaridad": "Positiva", "Entidad": "Value" },
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" }
            ]
        },
{
            "Entidad": "Jointly Defining 'Done'",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Definition of Done (DoD) for Histories" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Scope Creep" }
            ]
        },
        {
            "Entidad": "Organizational Culture",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Commitment" },
                { "Polaridad": "Negativa", "Entidad": "Resistance" },
                { "Polaridad": "Negativa", "Entidad": "Change Management" }
            ]
        },
        {
            "Entidad": "Legal and Compliance Issues",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Reduced Traceability" },
                { "Polaridad": "Negativa", "Entidad": "Agile" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
        {
            "Entidad": "Open Communication",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Assumption of Knowledge" },
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Feedback Loops" }
            ]
        },
{
            "Entidad": "Agile Ceremonies",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Feedback Loops" },
                { "Polaridad": "Positiva", "Entidad": "Sprint Goals" },
                { "Polaridad": "Negativa", "Entidad": "Burnout" }
            ]
        },
        {
            "Entidad": "Feedback",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Errors" },
                { "Polaridad": "Positiva", "Entidad": "Productivity" },
                { "Polaridad": "Positiva", "Entidad": "Continuous Learning" }
            ]
        },
        {
            "Entidad": "Increased Costs",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Value" }
            ]
        },
        {
            "Entidad": "Interactive Tools",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Negativa", "Entidad": "Assumption of Knowledge" }
            ]
        },
{
            "Entidad": "Knowledge Loss",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Productivity" },
                { "Polaridad": "Negativa", "Entidad": "Maintainability" },
                { "Polaridad": "Negativa", "Entidad": "Quality Assurance Challenges" }
            ]
        },
        {
            "Entidad": "Lack of Ownership",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Commitment" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Value" }
            ]
        },
        {
            "Entidad": "Education on Technical Debts",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Rework" },
                { "Polaridad": "Positiva", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Positiva", "Entidad": "Maintainability" }
            ]
        },
        {
            "Entidad": "Cross-Functional Shadowing",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Team Collaboration" },
                { "Polaridad": "Positiva", "Entidad": "Business Understanding of Systems" },
                { "Polaridad": "Positiva", "Entidad": "Development Teams Understanding Business" }
            ]
        },
{
            "Entidad": "Story Splitting",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Keeping Stories Short and Focused" },
                { "Polaridad": "Positiva", "Entidad": "Regular Refinement Sessions" },
                { "Polaridad": "Negativa", "Entidad": "Increased Ambiguity" }
            ]
        },
        {
            "Entidad": "Reduced Traceability",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" },
                { "Polaridad": "Negativa", "Entidad": "Quality Assurance Challenges" }
            ]
        },
        {
            "Entidad": "Inefficient Communication",
            "Influye": [
                { "Polaridad": "Negativa", "Entidad": "Team Morale" },
                { "Polaridad": "Negativa", "Entidad": "Productivity" },
                { "Polaridad": "Positiva", "Entidad": "Errors" }
            ]
        },
        {
            "Entidad": "Ineffective Risk Management",
            "Influye": [
                { "Polaridad": "Positiva", "Entidad": "Burnout" },
                { "Polaridad": "Negativa", "Entidad": "Stakeholder Satisfaction" }
            ]
        },
	{ "Entidad": "Feedback loops", "Influye": [] }, 
	{ "Entidad": "Clear Acceptance Criterias", "Influye": [] }, 
	{ "Entidad": "Team Morale", "Influye": [] }, 
	{ "Entidad": "Productivity", "Influye": [] }, 
	{ "Entidad": "Job Satisfaction", "Influye": [] }, 
	{ "Entidad": "Motivation", "Influye": [] }, 
	{ "Entidad": "Absenteism", "Influye": [] }, 
	{ "Entidad": "Silos", "Influye": [] }, 
	{ "Entidad": "Collaboration", "Influye": [] }, 
	{ "Entidad": "Team Collaboration", "Influye": [] }, 
	{ "Entidad": "Frustration", "Influye": [] }, 
	{ "Entidad": "Ambiguity", "Influye": [] }, 
	{ "Entidad": "Stakeholder Satisfaction", "Influye": [] }, 
	{ "Entidad": "Commitment", "Influye": [] },  
	{ "Entidad": "Agile Adoption", "Influye": [] }, 
	{ "Entidad": "Old Management Style", "Influye": [] }, 
	{ "Entidad": "Errors", "Influye": [] }, 
	{ "Entidad": "Consistency in User Stories", "Influye": [] }, 
	{ "Entidad": "Learning Curve", "Influye": [] }, 
	{ "Entidad": "Clear Understanding", "Influye": [] }, 
	{ "Entidad": "Confusion", "Influye": [] }, 
	{ "Entidad": "Team Understanding", "Influye": [] }, 
	{ "Entidad": "Reduced Ambiguity", "Influye": [] }, 
	{ "Entidad": "Manageable Tasks", "Influye": [] },
	{ "Entidad": "Clarity in Development", "Influye": [] }, 
	{ "Entidad": "Overhead", "Influye": [] }, 
	{ "Entidad": "Sprint Goals", "Influye": [] },
	{ "Entidad": "Feature Development", "Influye": [] }, 
	{ "Entidad": "Maintainability", "Influye": [] }, 
	{ "Entidad": "Continuous Learning", "Influye": [] },
	{ "Entidad": "Continuous Integration", "Influye": [] }, 
	{ "Entidad": "Continuous Deployment", "Influye": [] }, 
	{ "Entidad": "Fundamental Solutions", "Influye": [] }, 
	{ "Entidad": "Side Effects", "Influye": [] }, 
	{ "Entidad": "Short Term Productivity", "Influye": [] }, 
	{ "Entidad": "Avoidance of Meetings", "Influye": [] }, 
	{ "Entidad": "Business Understanding of Systems", "Influye": [] },
	{ "Entidad": "Development Teams Understanding Business", "Influye": [] }, 
	{ "Entidad": "Efficient Communication", "Influye": [] }, 
	{ "Entidad": "Value", "Influye": [] }, 
	{ "Entidad": "Quality Assurance", "Influye": [] }, 
	{ "Entidad": "Rework", "Influye": [] }, 
	{ "Entidad": "Performance", "Influye": [] }, 
	{ "Entidad": "Time Allocation", "Influye": [] }, 
	{ "Entidad": "Continous Learning", "Influye": [] }, 
	{ "Entidad": "Adoption of Agile", "Influye": [] }, 
	{ "Entidad": "Organizational Intelligence", "Influye": [] }, 
	{ "Entidad": "Ownership", "Influye": [] }, 
	{ "Entidad": "Speed of Agile Ceremonies", "Influye": [] }, 
	{ "Entidad": "Project Success", "Influye": [] }
    ]
};

const svg = d3.select("svg");
const width = +svg.attr("width");
const height = +svg.attr("height");

// Creación de nodos y enlaces
const nodes = [];
const links = [];

data.Entidades.forEach(e => {
    nodes.push({ id: e.Entidad });
    e.Influye.forEach(rel => {
        links.push({
            source: e.Entidad,
            target: rel.Entidad,
            polarity: rel.Polaridad
        });
    });
});

const simulation = d3.forceSimulation(nodes)
    .force("link", d3.forceLink(links).id(d => d.id).distance(500))
    .force("charge", d3.forceManyBody().strength(-400))
    .force("center", d3.forceCenter(svg.attr("width") / 2, svg.attr("height") / 2))
.force("collide", d3.forceCollide().radius(function(d) {
        return 100; // The radius for collision detection. Adjust as necessary.
    }));


// Define arrowhead markers for the links
svg.append("defs").selectAll("marker")
    .data(["Positiva", "Negativa"]) // Different marker IDs
    .enter().append("marker")
    .attr("id", d => d)
    .attr("viewBox", "0 -5 10 10")
    .attr("refX", 25) // This sets how far back the arrow is set. Adjust as needed.
    .attr("refY", 0)
    .attr("markerWidth", 6)
    .attr("markerHeight", 6)
    .attr("orient", "auto")
    .append("path")
    .attr("d", "M0,-5L10,0L0,5")
	.attr("refX", 35) 
	.attr("markerWidth", 12)
	.attr("markerHeight", 12)
    .style("fill", d => (d === "Positiva" ? "green" : "red"));

	
// Draw the links with arrowheads
const link = svg.append("g")
    .selectAll("line")
    .data(links)
    .enter().append("line")
    .attr("Polaridad", d => d.polarity) 
    .attr("stroke-width", 2) // Set a stroke width
    .attr("marker-end", d => `url(#${d.polarity})`);



	
// After the existing 'link' definition
const linkLabel = svg.append("g")
    .selectAll("text")
    .data(links)
    .enter().append("text")
    .attr("font-family", "Arial, sans-serif")
    .attr("font-size", "12px")
    .attr("fill", "#000")
    .text(d => d.polarity === "Positiva" ? "+" : "-");


// Definir marcadores de flechas
svg.append("defs").selectAll("marker")
    .data(["arrow"])
    .enter().append("marker")
    .attr("id", d => d)
    .attr("viewBox", "0 -5 10 10")
    .attr("refX", 25)
    .attr("refY", 0)
    .attr("markerWidth", 6)
    .attr("markerHeight", 6)
    .attr("orient", "auto")
    .append("path")
    .attr("d", "M0,-5L10,0L0,5")
    .attr("fill", "black");

// Dibujar nodos
const node = svg.append("g")
    .selectAll("circle")
    .data(nodes)
    .enter().append("circle")
    .attr("r", 50) // Aumentado para que quepa el texto
    .call(d3.drag()
        .on("start", dragstarted)
        .on("drag", dragged)
        .on("end", dragended));

// Append text for the nodes
const nodeText = svg.append("g")
    .selectAll("text")
    .data(nodes)
    .enter().append("text")
    .text(d => d.id)
    .attr("font-family", "Arial, sans-serif")
    .attr("font-size", "12px")
    .attr("fill", "#333")
    .attr("text-anchor", "middle")
    .attr("dy", ".35em"); // Vertical alignment

// Agregar texto a enlaces
link.append("text")
    .text(d => d.polarity)
    .attr("dx", 15)
    .attr("dy", -5);

simulation.on("tick", () => {
    link.attr("x1", d => d.source.x)
        .attr("y1", d => d.source.y)
        .attr("x2", d => d.target.x)
        .attr("y2", d => d.target.y);

    node.attr("cx", d => d.x)
        .attr("cy", d => d.y);
		
	// Add this block to update the position of the node texts
    nodeText.attr("x", d => d.x)
        .attr("y", d => d.y);
		
	// Add this block to position the link labels at the midpoint of each link
    linkLabel.attr("x", d => (d.source.x + d.target.x) / 2)
        .attr("y", d => (d.source.y + d.target.y) / 2);
});

function dragstarted(d) {
    if (!d3.event.active) simulation.alphaTarget(0.3).restart();
    d.fx = d.x;
    d.fy = d.y;
}

function dragged(d) {
    d.fx = d3.event.x;
    d.fy = d3.event.y;
}

function dragended(d) {
    if (!d3.event.active) simulation.alphaTarget(0);
    d.fx = null;
    d.fy = null;
}